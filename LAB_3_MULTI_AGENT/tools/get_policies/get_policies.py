from ibm_watsonx_orchestrate.agent_builder.tools import tool

@tool
def get_policies() -> str:
    """
    ดึงนโยบายของบริษัทเกี่ยวกับการคืนสินค้า การคืนเงิน และการชำระเงิน

    This tool returns an internal company policy document that outlines:
    - Return conditions
    - Refund procedures
    - Payment terms
    - Additional notes for internal sales and finance teams

    The data is returned in plain text format, structured to be markdown-friendly.

    :returns: A string containing the full company policy text.
    """
    try:
        policy_data = """\
เอกสารภายในบริษัท: นโยบายการคืนสินค้าและการชำระเงิน  
รหัสเอกสาร: POL-003-TH  
ประกาศใช้: 1 มกราคม 2568  
จัดทำโดย: แผนกจัดซื้อและการเงิน  
ระยะเวลาบังคับใช้: 1 ปี นับจากวันประกาศ

---

**นโยบายการคืนสินค้า**

1. ลูกค้าสามารถขอคืนสินค้าได้ภายในระยะเวลา 30 วันนับจากวันที่ได้รับสินค้า
2. สินค้าที่สามารถขอคืนได้ต้องอยู่ในสภาพสมบูรณ์ ไม่มีความเสียหาย และอยู่ในบรรจุภัณฑ์เดิม
3. การคืนสินค้าต้องแนบใบเสร็จหรือหลักฐานการซื้อขาย เช่น ใบแจ้งหนี้ ใบสั่งซื้อ หรือใบส่งของ
4. บริษัทขอสงวนสิทธิ์ไม่รับคืนสินค้าในกรณีดังต่อไปนี้:
   - สินค้าที่เปิดใช้งานแล้ว เช่น ซอฟต์แวร์หรือใบอนุญาต
   - สินค้าโปรโมชั่นที่ระบุว่า “ไม่สามารถคืนได้”
   - บริการที่ดำเนินการไปแล้วบางส่วนหรือทั้งหมด
5. ในกรณีที่เป็นความผิดพลาดของบริษัท เช่น ส่งสินค้าผิดรุ่น หรือสินค้ามีตำหนิ บริษัทจะเป็นผู้รับผิดชอบค่าขนส่งในการคืนสินค้า

---

**กระบวนการคืนเงิน**

1. เมื่อบริษัทได้รับสินค้าและตรวจสอบความถูกต้องแล้ว จะดำเนินการคืนเงินภายใน 14 วันทำการ
2. การคืนเงินจะทำผ่านช่องทางเดียวกับที่ลูกค้าใช้ชำระเงิน เช่น โอนผ่านธนาคารหรือคืนผ่านบัตรเครดิต
3. บริษัทขอสงวนสิทธิ์ในการหักค่าธรรมเนียมการดำเนินการ 5% ของยอดชำระ ในกรณีที่สาเหตุการคืนมาจากลูกค้าโดยไม่มีข้อบกพร่องของสินค้า

---

**นโยบายการชำระเงิน**

1. ลูกค้าต้องชำระเงินเต็มจำนวนก่อนส่งมอบสินค้า เว้นแต่จะมีสัญญาเป็นลายลักษณ์อักษรระบุเงื่อนไขอื่นไว้
2. ลูกค้าองค์กรที่มีข้อตกลงระยะยาวสามารถชำระเงินแบบ “เครดิตเทอม” โดยมีระยะเวลาไม่เกิน 30 วันนับจากวันออกใบแจ้งหนี้
3. บริษัทขอสงวนสิทธิ์ในการคิดค่าปรับกรณีชำระเงินล่าช้าในอัตรา 1.5% ต่อเดือนของยอดที่ยังไม่ชำระ
4. การต่ออายุสัญญา/ขยายวงเงินเครดิตจะพิจารณาจากประวัติการชำระเงินและสถานะทางการเงินของลูกค้า
5. หากลูกค้าผิดนัดชำระเกิน 60 วัน บริษัทมีสิทธิ์ระงับบริการหรือส่งต่อการจัดเก็บหนี้ให้บุคคลภายนอก

---

**หมายเหตุเพิ่มเติม**
- เอกสารฉบับนี้สามารถใช้เป็นแนวทางสำหรับแผนกขาย เมื่อต้องจัดทำข้อเสนอให้ลูกค้า
- ลูกค้าที่อยู่ในกลุ่มภาครัฐ อาจมีข้อยกเว้นบางประการตามระเบียบราชการ
- หากมีข้อสงสัย สามารถติดต่อทีมการเงินและบัญชีผ่านอีเมล: finance@example.com
    """
        return policy_data
    except Exception as e:
        return f"❌ ไม่สามารถดึงข้อมูลการนัดหมายได้: {str(e)}"
    # return appointment_data